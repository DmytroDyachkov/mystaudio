$(function(){function n(t,a){var e="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";0!=a&&a.each(function(){var t=$(this),a="animate__animated "+t.attr("data-animationOut");t.addClass(a).one(e,function(){t.removeClass(a)})}),t.each(function(){var t=$(this),a=t.data("delay"),i="animate__animated "+t.data("animation");t.css({"animation-delay":a,"-webkit-animation-delay":a}),t.addClass(i).one(e,function(){t.removeClass(i)})})}$(".modal_btn_close,.modal_close,.close_btn,.btnCloseModal").click(function(){$(".modal_window").fadeOut(),$("body,head,html").css("overflow-x","hidden"),$("body,head,html").css("overflow-y","auto")}),$(".open_modal").click(function(){var t=$(this).attr("monolit-modal");$(".modal_window").each(function(){$(this).attr("monolit-modal")==t&&($("body,head,html").css("overflow","hidden"),$(this).fadeIn())})}),$(".tabs__title").click(function(){if($(this).hasClass("active"))$(".tabs__title").removeClass("active"),$(".tabs__content").slideUp(300);else{$(".tabs__title").parent(".item").removeClass("active"),$(".tabs__title").removeClass("active"),$(this).parent(".item").addClass("active"),$(this).addClass("active"),$(".tabs__content").slideUp(300);var t=$(this).attr("monolit-tabs");$(".tabs__content").each(function(){$(this).attr("monolit-tabs")==t&&$(this).slideDown(300)})}}),$(".fancybox-media,.content_wp a:has(img)").fancybox({openEffect:"none",closeEffect:"none",maxWidth:"100%",maxHeight:"auto",padding:0,margin:0,helpers:{media:{youtube:{params:{theme:"light",vq:"hd720",css:{body:"color: #fff"}}}}}}),$("#animation-slider").on("beforeChange",function(t,a,i,e){var s=$('.slick-slide[data-slick-index="'+i+'"]').find("[data-animationOut]");n($('.slick-slide[data-slick-index="'+e+'"]').find("[data-animation]"),s)}),$("#animation-slider").on("init",function(t,a){n($(".slick-slide:first-child").find("[data-animation]"),!1)}),$(".hero-carousel").slick({autoplay:!0,autoplaySpeed:5e3,slidesToShow:1,slidesToScroll:1,fade:!0,arrows:!1,swipeToSlide:!0,dots:!0,appendDots:$(".slick-m-dots--main"),variableWidth:!1,responsive:[{breakpoint:800,settings:{}}]}),$(".cat-list-carousel").slick({slidesToShow:3,slidesToScroll:3,swipeToSlide:!0,infinite:!1,dots:!0,appendDots:$(".slick-m-dots--cat-list"),prevArrow:$(".slick-m-prev--cat-list"),nextArrow:$(".slick-m-next--cat-list"),variableWidth:!0,responsive:[{breakpoint:1115,settings:{variableWidth:!1,slidesToShow:2,slidesToScroll:2}}]}),$(".article-products-corusel").slick({slidesToShow:1,slidesToScroll:1,swipeToSlide:!0,infinite:!0,fade:!0,dots:!0,appendDots:$(".slick-m-dots--article-products"),prevArrow:$(".slick-m-prev--article-products"),nextArrow:$(".slick-m-next--article-products"),responsive:[{breakpoint:800,settings:{}}]}),$(".slick-m-dots--products").each(function(t){$(this).addClass("slick-m-dots--products-"+t)}),$(".products-corusel").each(function(t){$(this).addClass("products-corusel-"+t),$(".products-corusel-"+t).slick({slidesToShow:1,slidesToScroll:1,swipeToSlide:!0,infinite:!0,dots:!0,arrows:!1,appendDots:$(".slick-m-dots--products-"+t),variableWidth:!1,responsive:[{breakpoint:800,settings:{}}]})});var a=window.location.href;$(".menu li").each(function(){var t=$(this).find("a").attr("href");a==t&&($(this).addClass("active"),$(this).find("a").removeAttr("href"))}),$(".burger").on("click",function(){1==$(this).attr("data-click-state")?$(this).attr("data-click-state",0):$(this).attr("data-click-state",1),$(this).parents(".header").toggleClass("active"),$(this).parents(".sidebar").toggleClass("active"),$(this).parents(".sidebar-parent").toggleClass("active")}),$("a.parent").click(function(){$(this).parent("li").toggleClass("active"),$(this).siblings("ul").slideToggle()}),1366<$(document).width()&&($(".page__content-wrapper").theiaStickySidebar({additionalMarginTop:0,additionalMarginBottom:0}),$(".page__sidebar-wrapper").theiaStickySidebar({additionalMarginTop:0,additionalMarginBottom:0})),$('.scroll[href^="#"]').click(function(){return $("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},{duration:600,easing:"swing"}),!1}),$("input,textarea").on("input keyup",function(){""==$(this).val()?($(this).removeClass("true"),$(this).addClass("false")):($(this).removeClass("false"),$(this).addClass("true"))}),$(".tel_mask").inputmask({mask:"+7 (999) 999-99-99",greedy:!0,clearMaskOnLostFocus:!1,clearIncomplete:!0}),$(".quantity_inner .bt_minus").click(function(){var t=$(this).parent().find(".quantity"),a=t.attr("data-sep"),i=parseInt(t.val())-1;i=i<1?1:i,t.val(i+" "+a),t.attr("data-count",parseInt(i))}),$(".quantity_inner .bt_plus").click(function(){var t=$(this).parent().find(".quantity"),a=t.attr("data-sep"),i=parseInt(t.val())+1;i=i>parseInt(t.data("max-count"))?parseInt(t.data("max-count")):i,t.val(parseInt(i)+" "+a),t.attr("data-count",parseInt(i))}),$(".quantity_inner .quantity").bind("change keyupel_input click",function(){this.value.match(/[^0-9]/g)&&(this.value=this.value.replace(/[^0-9]/g,"")),""==this.value&&(this.value=1),this.value>parseInt($(this).data("max-count"))&&(this.value=parseInt($(this).data("max-count")))}),new WOW({mobile:!1,live:!0}).init(),ymaps.ready(function(){var t=new ymaps.Map("map",{center:i,zoom:17,controls:["zoomControl","fullscreenControl",new ymaps.control.SearchControl({options:{size:"large",provider:"yandex#search"}})]}),a=new ymaps.Placemark([55.75596,37.65821],null,{iconLayout:"default#image",iconImageHref:"/assets/images/logom.svg",iconImageSize:[44,54]});t.geoObjects.add(a);var a=new ymaps.Placemark([55.75513,37.65779],null,{iconLayout:"default#image",iconImageHref:"/assets/images/logoma.svg",iconImageSize:[34,48]});t.geoObjects.add(a)});var i=[55.755532,37.658499]});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvb3Rlci9mb290ZXIuanMiXSwibmFtZXMiOlsiJCIsImFuaW1hdGVTbGlkZXIiLCJlbGVtZW50cyIsImN1cnJlbnRTbGlkZSIsImFuaW1hdGlvbkVuZEV2ZW50cyIsImVhY2giLCIkdGhpcyIsInRoaXMiLCIkYW5pbWF0aW9uVHlwZSIsImF0dHIiLCJhZGRDbGFzcyIsIm9uZSIsInJlbW92ZUNsYXNzIiwiJGFuaW1hdGlvbkRlbGF5IiwiZGF0YSIsImNzcyIsImFuaW1hdGlvbi1kZWxheSIsIi13ZWJraXQtYW5pbWF0aW9uLWRlbGF5IiwiY2xpY2siLCJmYWRlT3V0IiwiaWRfYnRuIiwiZmFkZUluIiwiaGFzQ2xhc3MiLCJzbGlkZVVwIiwicGFyZW50Iiwic2xpZGVEb3duIiwiZmFuY3lib3giLCJvcGVuRWZmZWN0IiwiY2xvc2VFZmZlY3QiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsInBhZGRpbmciLCJtYXJnaW4iLCJoZWxwZXJzIiwibWVkaWEiLCJ5b3V0dWJlIiwicGFyYW1zIiwidGhlbWUiLCJ2cSIsImJvZHkiLCJvbiIsImUiLCJzbGljayIsIm5leHRTbGlkZSIsImN1cnJlbnRFbGVtZW50cyIsImZpbmQiLCJhdXRvcGxheSIsImF1dG9wbGF5U3BlZWQiLCJzbGlkZXNUb1Nob3ciLCJzbGlkZXNUb1Njcm9sbCIsImZhZGUiLCJhcnJvd3MiLCJzd2lwZVRvU2xpZGUiLCJkb3RzIiwiYXBwZW5kRG90cyIsInZhcmlhYmxlV2lkdGgiLCJyZXNwb25zaXZlIiwiYnJlYWtwb2ludCIsInNldHRpbmdzIiwiaW5maW5pdGUiLCJwcmV2QXJyb3ciLCJuZXh0QXJyb3ciLCJpIiwiY3VyX3VybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImxpbmsiLCJyZW1vdmVBdHRyIiwicGFyZW50cyIsInRvZ2dsZUNsYXNzIiwic2libGluZ3MiLCJzbGlkZVRvZ2dsZSIsImRvY3VtZW50Iiwid2lkdGgiLCJ0aGVpYVN0aWNreVNpZGViYXIiLCJhZGRpdGlvbmFsTWFyZ2luVG9wIiwiYWRkaXRpb25hbE1hcmdpbkJvdHRvbSIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJkdXJhdGlvbiIsImVhc2luZyIsInZhbCIsImlucHV0bWFzayIsIm1hc2siLCJncmVlZHkiLCJjbGVhck1hc2tPbkxvc3RGb2N1cyIsImNsZWFySW5jb21wbGV0ZSIsImVsX2lucHV0Iiwic2VwIiwiY291bnQiLCJwYXJzZUludCIsImJpbmQiLCJ2YWx1ZSIsIm1hdGNoIiwicmVwbGFjZSIsIldPVyIsIm1vYmlsZSIsImxpdmUiLCJpbml0IiwieW1hcHMiLCJyZWFkeSIsIm15TWFwIiwiTWFwIiwiY2VudGVyIiwiZ2VvY29kZSIsInpvb20iLCJjb250cm9scyIsImNvbnRyb2wiLCJTZWFyY2hDb250cm9sIiwib3B0aW9ucyIsInNpemUiLCJwcm92aWRlciIsIm15UGxhY2VtYXJrIiwiUGxhY2VtYXJrIiwiaWNvbkxheW91dCIsImljb25JbWFnZUhyZWYiLCJpY29uSW1hZ2VTaXplIiwiZ2VvT2JqZWN0cyIsImFkZCJdLCJtYXBwaW5ncyI6IkFBQ0FBLEVBQUEsV0ErRUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FDQSxJQUFBQyxFQUFBLCtFQUNBLEdBQUFELEdBQ0FBLEVBQUFFLEtBQUEsV0FDQSxJQUFBQyxFQUFBTixFQUFBTyxNQUNBQyxFQUFBLHFCQUFBRixFQUFBRyxLQUFBLHFCQUNBSCxFQUFBSSxTQUFBRixHQUFBRyxJQUFBUCxFQUFBLFdBQ0FFLEVBQUFNLFlBQUFKLE9BSUFOLEVBQUFHLEtBQUEsV0FDQSxJQUFBQyxFQUFBTixFQUFBTyxNQUNBTSxFQUFBUCxFQUFBUSxLQUFBLFNBQ0FOLEVBQUEscUJBQUFGLEVBQUFRLEtBQUEsYUFDQVIsRUFBQVMsSUFBQSxDQUNBQyxrQkFBQUgsRUFDQUksMEJBQUFKLElBRUFQLEVBQUFJLFNBQUFGLEdBQUFHLElBQUFQLEVBQUEsV0FDQUUsRUFBQU0sWUFBQUosT0FwRkFSLEVBQUEsMkRBQUFrQixNQUFBLFdBQ0FsQixFQUFB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LElBRUFDLE9BRUFDLE1BQUFDLE1BSUEsV0FFQSxJQUFBQyxFQUFBLElBQUFGLE1BQUFHLElBQUEsTUFBQSxDQUdBQyxPQUFBQyxFQUdBQyxLQUFBLEdBR0FDLFNBQUEsQ0FFQSxjQUtBLG9CQUdBLElBQUFQLE1BQUFRLFFBQUFDLGNBQUEsQ0FDQUMsUUFBQSxDQUVBQyxLQUFBLFFBRUFDLFNBQUEsc0JBVUFDLEVBQUEsSUFBQWIsTUFBQWMsVUFBQSxDQUFBLFNBQUEsVUFBQSxLQUFBLENBQ0FDLFdBQUEsZ0JBQ0FDLGNBQUEsNkJBQ0FDLGNBQUEsQ0FBQSxHQUFBLE1BR0FmLEVBQUFnQixXQUFBQyxJQUFBTixHQUNBLElBQUFBLEVBQUEsSUFBQWIsTUFBQWMsVUFBQSxDQUFBLFNBQUEsVUFBQSxLQUFBLENBQ0FDLFdBQUEsZ0JBQ0FDLGNBQUEsOEJBQ0FDLGNBQUEsQ0FBQSxHQUFBLE1BR0FmLEVBQUFnQixXQUFBQyxJQUFBTixLQW5EQSxJQUFBUixFQUFBLENBQUEsVUFBQSIsImZpbGUiOiJjb21tb24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbiQoZnVuY3Rpb24oKXtcclxuXHQvLyAkLnBpeGxheW91dCh7XHJcblx0Ly8gXHRzcmM6IFwiL2FwcC5wbmdcIiwgXHJcblx0Ly8gXHRvcGFjaXR5OiAwLjMsXHJcbiAgICAvLyAgICAgdG9wOiAwLFxyXG4gICAgLy8gICAgIGNlbnRlcjogdHJ1ZSxcclxuICAgIC8vICAgICBsZWZ0OiAyNDAsXHJcbiAgICAvLyAgICAgcmlnaHQ6IDIzNSxcclxuXHQvLyBcdHBlcnZpb3VzOiB0cnVlLFxyXG5cdC8vIFx0Y2xpcDogdHJ1ZSxcclxuXHQvLyBcdHNob3c6IHRydWVcclxuICAgIC8vIH0sIFwiYm9keVwiKTtcclxuICAgIFxyXG4gICAgLy8g0JzQvtC00LDQu9GM0L3Ri9C1INC+0LrQvdCwXHJcbiAgICBmdW5jdGlvbiBtb2RhbCgpe1xyXG4gICAgICAgICQoJy5tb2RhbF9idG5fY2xvc2UsLm1vZGFsX2Nsb3NlLC5jbG9zZV9idG4sLmJ0bkNsb3NlTW9kYWwnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKCcubW9kYWxfd2luZG93JykuZmFkZU91dCgpO1xyXG4gICAgICAgICAgICAkKCdib2R5LGhlYWQsaHRtbCcpLmNzcygnb3ZlcmZsb3cteCcsJ2hpZGRlbicpXHJcbiAgICAgICAgICAgICQoJ2JvZHksaGVhZCxodG1sJykuY3NzKCdvdmVyZmxvdy15JywnYXV0bycpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnLm9wZW5fbW9kYWwnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgaWRfYnRuID0gJCh0aGlzKS5hdHRyKCdtb25vbGl0LW1vZGFsJyk7XHJcbiAgICAgICAgICAgICQoJy5tb2RhbF93aW5kb3cnKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBpZigkKHRoaXMpLmF0dHIoJ21vbm9saXQtbW9kYWwnKSA9PSBpZF9idG4pe1xyXG4gICAgICAgICAgICAgICAgICAgICQoJ2JvZHksaGVhZCxodG1sJykuY3NzKCdvdmVyZmxvdycsJ2hpZGRlbicpXHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5mYWRlSW4oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgbW9kYWwoKVxyXG5cclxuICAgIC8vINCi0LDQsdGLXHJcbiAgICBmdW5jdGlvbiB0YWIycygpe1xyXG4gICAgICAgICQoJy50YWJzX190aXRsZScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmKCQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcclxuICAgICAgICAgICAgICAgICQoJy50YWJzX190aXRsZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICQoJy50YWJzX19jb250ZW50Jykuc2xpZGVVcCgzMDApXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgJCgnLnRhYnNfX3RpdGxlJykucGFyZW50KCcuaXRlbScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICQoJy50YWJzX190aXRsZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50KCcuaXRlbScpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnRhYnNfX2NvbnRlbnQnKS5zbGlkZVVwKDMwMClcclxuICAgICAgICAgICAgICAgIHZhciBpZF9idG4gPSAkKHRoaXMpLmF0dHIoJ21vbm9saXQtdGFicycpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnRhYnNfX2NvbnRlbnQnKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoJCh0aGlzKS5hdHRyKCdtb25vbGl0LXRhYnMnKSA9PSBpZF9idG4pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnNsaWRlRG93bigzMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIHRhYjJzKClcclxuXHJcbiAgICAvLyDQo9Cy0LXQu9C40YfQtdC90LjQtSDQutCw0YDRgtC40L3QvtC6XHJcbiAgICAkKCcuZmFuY3lib3gtbWVkaWEsLmNvbnRlbnRfd3AgYTpoYXMoaW1nKScpLmZhbmN5Ym94KHtcclxuICAgICAgICBvcGVuRWZmZWN0ICA6ICdub25lJyxcclxuICAgICAgICBjbG9zZUVmZmVjdCA6ICdub25lJyxcclxuICAgICAgICAgICAgbWF4V2lkdGggICAgOiAnMTAwJScsXHJcbiAgICAgICAgICAgIG1heEhlaWdodCAgIDogJ2F1dG8nLCAgXHJcbiAgICAgICAgICAgIHBhZGRpbmcgICAgIDogMCxcclxuICAgICAgICAgICAgbWFyZ2luICAgICAgOiAwLCAgICAgICAgICAgXHJcbiAgICAgICAgaGVscGVycyA6IHtcclxuICAgICAgICAgIG1lZGlhIDoge1xyXG4gICAgICAgICAgICAgIHlvdXR1YmUgOiB7XHJcbiAgICAgICAgICAgICAgICAgICBwYXJhbXMgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgdGhlbWUgOiAnbGlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZxICAgIDogJ2hkNzIwJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3MgICA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYm9keScgOiAnY29sb3I6ICNmZmYnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vINCQ0L3QuNC80LDRhtC40Y8g0YHQu9Cw0LnQtNC10YDQsFxyXG4gICAgZnVuY3Rpb24gYW5pbWF0ZVNsaWRlcihlbGVtZW50cyxjdXJyZW50U2xpZGUpe1xyXG4gICAgICAgIHZhciBhbmltYXRpb25FbmRFdmVudHMgPSAnd2Via2l0QW5pbWF0aW9uRW5kIG1vekFuaW1hdGlvbkVuZCBNU0FuaW1hdGlvbkVuZCBvYW5pbWF0aW9uZW5kIGFuaW1hdGlvbmVuZCc7XHJcbiAgICAgICAgaWYoY3VycmVudFNsaWRlICE9IGZhbHNlKXtcclxuICAgICAgICAgICAgY3VycmVudFNsaWRlLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgJGFuaW1hdGlvblR5cGUgPSAnYW5pbWF0ZV9fYW5pbWF0ZWQgJyArICR0aGlzLmF0dHIoJ2RhdGEtYW5pbWF0aW9uT3V0Jyk7XHJcbiAgICAgICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygkYW5pbWF0aW9uVHlwZSkub25lKGFuaW1hdGlvbkVuZEV2ZW50cywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJGFuaW1hdGlvblR5cGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsZW1lbnRzLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgdmFyICRhbmltYXRpb25EZWxheSA9ICR0aGlzLmRhdGEoJ2RlbGF5Jyk7XHJcbiAgICAgICAgICAgIHZhciAkYW5pbWF0aW9uVHlwZSA9ICdhbmltYXRlX19hbmltYXRlZCAnICsgJHRoaXMuZGF0YSgnYW5pbWF0aW9uJyk7XHJcbiAgICAgICAgICAgICR0aGlzLmNzcyh7XHJcbiAgICAgICAgICAgICAgJ2FuaW1hdGlvbi1kZWxheSc6ICRhbmltYXRpb25EZWxheSxcclxuICAgICAgICAgICAgICAnLXdlYmtpdC1hbmltYXRpb24tZGVsYXknOiAkYW5pbWF0aW9uRGVsYXlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCRhbmltYXRpb25UeXBlKS5vbmUoYW5pbWF0aW9uRW5kRXZlbnRzLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCRhbmltYXRpb25UeXBlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgICQoXCIjYW5pbWF0aW9uLXNsaWRlclwiKS5vbihcImJlZm9yZUNoYW5nZVwiLCBmdW5jdGlvbihlLCBzbGljaywgY3VycmVudFNsaWRlLCBuZXh0U2xpZGUpIHtcclxuICAgICAgICB2YXIgY3VycmVudEVsZW1lbnRzID0gJCgnLnNsaWNrLXNsaWRlW2RhdGEtc2xpY2staW5kZXg9XCInICsgY3VycmVudFNsaWRlICsgJ1wiXScpLmZpbmQoJ1tkYXRhLWFuaW1hdGlvbk91dF0nKTtcclxuICAgICAgICB2YXIgJGFuaW1hdGluZ0VsZW1lbnRzID0gJCgnLnNsaWNrLXNsaWRlW2RhdGEtc2xpY2staW5kZXg9XCInICsgbmV4dFNsaWRlICsgJ1wiXScpLmZpbmQoJ1tkYXRhLWFuaW1hdGlvbl0nKTtcclxuICAgICAgICBhbmltYXRlU2xpZGVyKCRhbmltYXRpbmdFbGVtZW50cyxjdXJyZW50RWxlbWVudHMpOyAgICBcclxuICAgIH0pXHJcbiAgICAkKCcjYW5pbWF0aW9uLXNsaWRlcicpLm9uKCdpbml0JywgZnVuY3Rpb24oZSwgc2xpY2spIHtcclxuICAgICAgICB2YXIgJGZpcnN0QW5pbWF0aW5nRWxlbWVudHMgPSAkKCcuc2xpY2stc2xpZGU6Zmlyc3QtY2hpbGQnKS5maW5kKCdbZGF0YS1hbmltYXRpb25dJyk7XHJcbiAgICAgICAgYW5pbWF0ZVNsaWRlcigkZmlyc3RBbmltYXRpbmdFbGVtZW50cyxmYWxzZSk7ICAgIFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gc2xpY2tcclxuICAgICQoJy5oZXJvLWNhcm91c2VsJykuc2xpY2soe1xyXG4gICAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICAgIGF1dG9wbGF5U3BlZWQ6IDUwMDAsXHJcbiAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICAgIGZhZGU6IHRydWUsXHJcbiAgICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICBzd2lwZVRvU2xpZGU6IHRydWUsXHJcbiAgICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgICBhcHBlbmREb3RzOiAkKFwiLnNsaWNrLW0tZG90cy0tbWFpblwiKSxcclxuICAgICAgICB2YXJpYWJsZVdpZHRoOiBmYWxzZSxcclxuICAgICAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDgwMCxcclxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICBdXHJcbiAgICB9KTtcclxuICAgICQoJy5jYXQtbGlzdC1jYXJvdXNlbCcpLnNsaWNrKHtcclxuICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXHJcbiAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDMsXHJcbiAgICAgICAgc3dpcGVUb1NsaWRlOiB0cnVlLFxyXG4gICAgICAgIGluZmluaXRlOiBmYWxzZSxcclxuICAgICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICAgIGFwcGVuZERvdHM6ICQoXCIuc2xpY2stbS1kb3RzLS1jYXQtbGlzdFwiKSxcclxuICAgICAgICBwcmV2QXJyb3c6ICQoXCIuc2xpY2stbS1wcmV2LS1jYXQtbGlzdFwiKSxcclxuICAgICAgICBuZXh0QXJyb3c6ICQoXCIuc2xpY2stbS1uZXh0LS1jYXQtbGlzdFwiKSxcclxuICAgICAgICB2YXJpYWJsZVdpZHRoOiB0cnVlLFxyXG4gICAgICAgIHJlc3BvbnNpdmU6IFtcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgYnJlYWtwb2ludDogMTExNSxcclxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgICAgIHZhcmlhYmxlV2lkdGg6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAyLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDIsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgXVxyXG4gICAgfSk7XHJcbiAgICAkKCcuYXJ0aWNsZS1wcm9kdWN0cy1jb3J1c2VsJykuc2xpY2soe1xyXG4gICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgICBzd2lwZVRvU2xpZGU6IHRydWUsXHJcbiAgICAgICAgaW5maW5pdGU6IHRydWUsXHJcbiAgICAgICAgZmFkZTogdHJ1ZSxcclxuICAgICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICAgIGFwcGVuZERvdHM6ICQoXCIuc2xpY2stbS1kb3RzLS1hcnRpY2xlLXByb2R1Y3RzXCIpLFxyXG4gICAgICAgIHByZXZBcnJvdzogJChcIi5zbGljay1tLXByZXYtLWFydGljbGUtcHJvZHVjdHNcIiksXHJcbiAgICAgICAgbmV4dEFycm93OiAkKFwiLnNsaWNrLW0tbmV4dC0tYXJ0aWNsZS1wcm9kdWN0c1wiKSxcclxuICAgICAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDgwMCxcclxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICBdXHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcuc2xpY2stbS1kb3RzLS1wcm9kdWN0cycpLmVhY2goZnVuY3Rpb24oaSl7XHJcbiAgICAgICAgdmFyIGVsZW0gPSAkKHRoaXMpO1xyXG4gICAgICAgIGVsZW0uYWRkQ2xhc3MoJ3NsaWNrLW0tZG90cy0tcHJvZHVjdHMtJytpKTtcclxuICAgIH0pO1xyXG4gICAgJCgnLnByb2R1Y3RzLWNvcnVzZWwnKS5lYWNoKGZ1bmN0aW9uKGkpe1xyXG4gICAgICAgIHZhciBlbGVtID0gJCh0aGlzKTtcclxuICAgICAgICBlbGVtLmFkZENsYXNzKCdwcm9kdWN0cy1jb3J1c2VsLScraSk7XHJcbiAgICAgICAgJCgnLnByb2R1Y3RzLWNvcnVzZWwtJytpKS5zbGljayh7XHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgICAgICAgIHN3aXBlVG9TbGlkZTogdHJ1ZSxcclxuICAgICAgICAgICAgaW5maW5pdGU6IHRydWUsXHJcbiAgICAgICAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgICAgIGFwcGVuZERvdHM6ICQoXCIuc2xpY2stbS1kb3RzLS1wcm9kdWN0cy1cIitpKSxcclxuICAgICAgICAgICAgdmFyaWFibGVXaWR0aDogZmFsc2UsXHJcbiAgICAgICAgICAgIHJlc3BvbnNpdmU6IFtcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBicmVha3BvaW50OiA4MDAsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBcclxuICAgIC8vINCj0LrQsNC30YvQstCw0LXQvCDRgtC10LrRg9GJ0YPRjiDRgdGB0YvQu9C60YNcclxuICAgIHZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xyXG4gICAgLy8gdmFyIGN1cl91cmwgPSAnLycgKyBsb2NhdGlvbi5zcGxpdCgnLycpLnBvcCgpO1xyXG4gICAgdmFyIGN1cl91cmwgPSBsb2NhdGlvbjtcclxuIFxyXG4gICAgJCgnLm1lbnUgbGknKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbGluayA9ICQodGhpcykuZmluZCgnYScpLmF0dHIoJ2hyZWYnKTtcclxuIFxyXG4gICAgICAgIGlmIChjdXJfdXJsID09IGxpbmspIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQodGhpcykuZmluZCgnYScpLnJlbW92ZUF0dHIoJ2hyZWYnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDQnNC10L3RjiDQsdGD0YDQs9C10YBcclxuICAgICQoJy5idXJnZXInKS5vbignY2xpY2snLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgaWYoJCh0aGlzKS5hdHRyKCdkYXRhLWNsaWNrLXN0YXRlJykgPT0gMSkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtY2xpY2stc3RhdGUnLCAwKVxyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5oZWFkZXInKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLnNpZGViYXInKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLnNpZGViYXItcGFyZW50JykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1jbGljay1zdGF0ZScsIDEpXHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLmhlYWRlcicpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuc2lkZWJhcicpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuc2lkZWJhci1wYXJlbnQnKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g0J7RgtC60YDRi9GC0LjQtSDQtNC+0YfQtdGA0L3QtdCz0L4g0LzQtdC90Y5cclxuICAgICQoJ2EucGFyZW50JykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAkKHRoaXMpLnBhcmVudCgnbGknKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgJCh0aGlzKS5zaWJsaW5ncygndWwnKS5zbGlkZVRvZ2dsZSgpO1xyXG4gICAgfSlcclxuXHJcbiAgICAvLyDQsNC00LDQv9GC0LjQsiDQsiBqc1xyXG4gICAgaWYoJChkb2N1bWVudCkud2lkdGgoKSA+IDEzNjYgPyB0cnVlIDogZmFsc2Upe1xyXG4gICAgICAgICQoJy5wYWdlX19jb250ZW50LXdyYXBwZXInKS50aGVpYVN0aWNreVNpZGViYXIoe1xyXG4gICAgICAgICAgICBhZGRpdGlvbmFsTWFyZ2luVG9wOiAwLFxyXG4gICAgICAgICAgICBhZGRpdGlvbmFsTWFyZ2luQm90dG9tOiAwLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJy5wYWdlX19zaWRlYmFyLXdyYXBwZXInKS50aGVpYVN0aWNreVNpZGViYXIoe1xyXG4gICAgICAgICAgICBhZGRpdGlvbmFsTWFyZ2luVG9wOiAwLFxyXG4gICAgICAgICAgICBhZGRpdGlvbmFsTWFyZ2luQm90dG9tOiAwLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vICQoJy5ibG9ja19fY29udGVudC13cmFwcGVyJykudGhlaWFTdGlja3lTaWRlYmFyKHtcclxuICAgICAgICAvLyAgICAgYWRkaXRpb25hbE1hcmdpblRvcDogMjAsXHJcbiAgICAgICAgLy8gICAgIGFkZGl0aW9uYWxNYXJnaW5Cb3R0b206IDIwLFxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8vICQoJy5ibG9ja19fc2lkZWJhci13cmFwcGVyJykudGhlaWFTdGlja3lTaWRlYmFyKHtcclxuICAgICAgICAvLyAgICAgYWRkaXRpb25hbE1hcmdpblRvcDogMjAsXHJcbiAgICAgICAgLy8gICAgIGFkZGl0aW9uYWxNYXJnaW5Cb3R0b206IDIwLFxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8g0YHQsNC50LQg0LHQsNGA0YtcclxuXHJcbiAgICAvLyDQodC60YDQvtC7INC00L4g0L/Rg9C90LrRgtCwXHJcbiAgICAkKCcuc2Nyb2xsW2hyZWZePVwiI1wiXScpLmNsaWNrKGZ1bmN0aW9uKCkgeyBcclxuICAgICAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKHtcclxuICAgICAgICAgICBzY3JvbGxUb3A6ICQoJCh0aGlzKS5hdHRyKFwiaHJlZlwiKSkub2Zmc2V0KCkudG9wXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgIGR1cmF0aW9uOiA2MDAsXHJcbiAgICAgICAgICAgZWFzaW5nOiBcInN3aW5nXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyB2YXIgd293ID0gbmV3IFdPVyhcclxuICAgIC8vICAgICB7XHJcbiAgICAvLyAgICAgICBtb2JpbGU6ICAgICAgIGZhbHNlLCAgIFxyXG4gICAgLy8gICAgICAgbGl2ZTogICAgICAgICB0cnVlLCAgICAgXHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gKTtcclxuICAgIC8vIHdvdy5pbml0KCk7XHJcblxyXG4gICAgJCgnaW5wdXQsdGV4dGFyZWEnKS5vbignaW5wdXQga2V5dXAnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIFZhbHVlID0gJCh0aGlzKS52YWwoKTtcclxuICAgICAgICBpZihWYWx1ZSA9PSAnJyl7XHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ3RydWUnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnZmFsc2UnKTsgXHJcbiAgICAgICAgfWVsc2V7IFxyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdmYWxzZScpOyBcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygndHJ1ZScpOyBcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBpZigkKGRvY3VtZW50KS53aWR0aCgpID4gODAwID8gdHJ1ZSA6IGZhbHNlKXtcclxuICAgIC8vICAgICB2YXIgcmVsbGF4MiA9IG5ldyBSZWxsYXgoJy5hcnRpY2xlLWhlYWQgLmNvbnRhaW5lcicsIHtcclxuICAgIC8vICAgICAgICAgY2VudGVyOiB0cnVlLFxyXG4gICAgLy8gICAgICAgICBzcGVlZDogLTMsXHJcbiAgICAvLyAgICAgfSk7XHJcbiAgICAvLyB9XHJcbiAgICAvLyBpZigkKGRvY3VtZW50KS53aWR0aCgpID4gODAwID8gdHJ1ZSA6IGZhbHNlKXtcclxuICAgIC8vICAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKCl7XHJcbiAgICAvLyAgICAgICAgICQoJy5oZXJvLWNhcm91c2VsX19pdGVtJykuYmdzY3JvbGwoe1xyXG4gICAgLy8gICAgICAgICB9KTtcclxuICAgIC8vICAgICAgICAgLy8gJCgnLm5ld3MtcHJldicpLmJnc2Nyb2xsKHtcclxuICAgIC8vICAgICAgICAgLy8gfSk7XHJcbiAgICAvLyAgICAgICAgICQoJy5hcnRpY2xlLWhlYWQnKS5iZ3Njcm9sbCh7XHJcblxyXG4gICAgLy8gICAgICAgICB9KTtcclxuICAgIC8vICAgICB9KVxyXG4gICAgLy8gfTtcclxuXHJcblxyXG4gICAgLy8g0L/QvtC40YHQuiDQv9C+IHNlbGVjdFxyXG4gICAgLy8gJChcIi5qcy1zZWxlY3RpemVcIikuY2hvc2VuKHtub19yZXN1bHRzX3RleHQ6IFwiT29wcywgbm90aGluZyBmb3VuZCFcIn0pOyBcclxuICAgIC8vINC80L7QutGB0LrQuFxyXG4gICAgJChcIi50ZWxfbWFza1wiKS5pbnB1dG1hc2soe1xyXG4gICAgICAgIG1hc2s6IFwiKzcgKDk5OSkgOTk5LTk5LTk5XCIsXHJcbiAgICAgICAgZ3JlZWR5OiB0cnVlLFxyXG4gICAgICAgIGNsZWFyTWFza09uTG9zdEZvY3VzOiBmYWxzZSxcclxuICAgICAgICBjbGVhckluY29tcGxldGU6IHRydWVcclxuICAgIH0pO1xyXG4gIFxyXG4gICBcclxuICAgIFxyXG4gICAgLy8g0JrQvtC70LjRh9C10YHRgtCy0L4g0LIg0LrQvtGA0LfQuNC90LVcclxuICAgIC8vINCj0LHQsNCy0LvRj9C10Lwg0LrQvtC7LdCy0L4g0L/QviDQutC70LjQutGDXHJcbiAgICAkKCcucXVhbnRpdHlfaW5uZXIgLmJ0X21pbnVzJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGVsX2lucHV0ID0gJCh0aGlzKS5wYXJlbnQoKS5maW5kKCcucXVhbnRpdHknKTtcclxuICAgICAgICB2YXIgc2VwID0gZWxfaW5wdXQuYXR0cignZGF0YS1zZXAnKTtcclxuICAgICAgICB2YXIgY291bnQgPSBwYXJzZUludChlbF9pbnB1dC52YWwoKSkgLSAxO1xyXG4gICAgICAgIGNvdW50ID0gY291bnQgPCAxID8gMSA6IGNvdW50O1xyXG4gICAgICAgIGVsX2lucHV0LnZhbChjb3VudCArJyAnKyBzZXApO1xyXG4gICAgICAgIGVsX2lucHV0LmF0dHIoJ2RhdGEtY291bnQnLHBhcnNlSW50KGNvdW50KSlcclxuICAgIH0pO1xyXG4gICAgLy8g0J/RgNC40LHQsNCy0LvRj9C10Lwg0LrQvtC7LdCy0L4g0L/QviDQutC70LjQutGDXHJcbiAgICAkKCcucXVhbnRpdHlfaW5uZXIgLmJ0X3BsdXMnKS5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZWxfaW5wdXQgPSAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJy5xdWFudGl0eScpO1xyXG4gICAgICAgIHZhciBzZXAgPSBlbF9pbnB1dC5hdHRyKCdkYXRhLXNlcCcpO1xyXG4gICAgICAgIHZhciBjb3VudCA9IHBhcnNlSW50KGVsX2lucHV0LnZhbCgpKSArIDE7XHJcbiAgICAgICAgY291bnQgPSBjb3VudCA+IHBhcnNlSW50KGVsX2lucHV0LmRhdGEoJ21heC1jb3VudCcpKSA/IHBhcnNlSW50KGVsX2lucHV0LmRhdGEoJ21heC1jb3VudCcpKSA6IGNvdW50O1xyXG4gICAgICAgIGVsX2lucHV0LnZhbChwYXJzZUludChjb3VudCkgKycgJysgc2VwKTtcclxuICAgICAgICBlbF9pbnB1dC5hdHRyKCdkYXRhLWNvdW50JyxwYXJzZUludChjb3VudCkpXHJcbiAgICB9KTsgXHJcbiAgICAvLyDQo9Cx0LjRgNCw0LXQvCDQstGB0LUg0LvQuNGI0L3QtdC1INC4INC90LXQstC+0LfQvNC+0LbQvdC+0LUg0L/RgNC4INC40LfQvNC10L3QtdC90LjQuCDQv9C+0LvRj1xyXG4gICAgJCgnLnF1YW50aXR5X2lubmVyIC5xdWFudGl0eScpLmJpbmQoXCJjaGFuZ2Uga2V5dXBlbF9pbnB1dCBjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy52YWx1ZS5tYXRjaCgvW14wLTldL2cpKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnJlcGxhY2UoL1teMC05XS9nLCAnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnZhbHVlID09IFwiXCIpIHtcclxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnZhbHVlID4gcGFyc2VJbnQoJCh0aGlzKS5kYXRhKCdtYXgtY291bnQnKSkpIHtcclxuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHBhcnNlSW50KCQodGhpcykuZGF0YSgnbWF4LWNvdW50JykpO1xyXG4gICAgICAgIH0gICAgXHJcbiAgICB9KTsgICBcclxuICAgIC8vIHdvdyDQsNC90LjQvNCw0YbQuNGPXHJcbiAgICBuZXcgV09XKHtcclxuICAgICAgICBtb2JpbGU6ICAgICAgIGZhbHNlLCAgIFxyXG4gICAgICAgIGxpdmU6ICAgICAgICAgdHJ1ZSwgICAgIFxyXG4gICAgICB9XHJcbiAgICApLmluaXQoKTtcclxuICAgIC8vINCa0LDRgNGC0LBcclxuICAgIHltYXBzLnJlYWR5KGluaXQpO1xyXG5cclxuICAgIHZhciBnZW9jb2RlID0gWzU1Ljc1NTUzMiwgMzcuNjU4NDk5XTtcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgIC8vINCh0L7Qt9C00LDQvdC40LUg0LrQsNGA0YLRiy5cclxuICAgICAgICB2YXIgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKFwibWFwXCIsIHtcclxuICAgICAgICAgICAgLy8g0JrQvtC+0YDQtNC40L3QsNGC0Ysg0YbQtdC90YLRgNCwINC60LDRgNGC0YsuXHJcbiAgICAgICAgICAgIC8vINCf0L7RgNGP0LTQvtC6INC/0L4g0YPQvNC+0LvRh9C90LjRjjogwqvRiNC40YDQvtGC0LAsINC00L7Qu9Cz0L7RgtCwwrsuXHJcbiAgICAgICAgICAgIGNlbnRlcjogZ2VvY29kZVx0LFxyXG4gICAgICAgICAgICAvLyDQo9GA0L7QstC10L3RjCDQvNCw0YHRiNGC0LDQsdC40YDQvtCy0LDQvdC40Y8uINCU0L7Qv9GD0YHRgtC40LzRi9C1INC30L3QsNGH0LXQvdC40Y86XHJcbiAgICAgICAgICAgIC8vINC+0YIgMCAo0LLQtdGB0Ywg0LzQuNGAKSDQtNC+IDE5LlxyXG4gICAgICAgICAgICB6b29tOiAxNyxcclxuICAgICAgICAgICAgLy8g0K3Qu9C10LzQtdC90YLRiyDRg9C/0YDQsNCy0LvQtdC90LjRj1xyXG4gICAgICAgICAgICAvLyBodHRwczovL3RlY2gueWFuZGV4LnJ1L21hcHMvZG9jL2pzYXBpLzIuMS9kZy9jb25jZXB0cy9jb250cm9scy9zdGFuZGFyZC1kb2NwYWdlL1xyXG4gICAgICAgICAgICBjb250cm9sczogW1xyXG5cclxuICAgICAgICAgICAgICAgICd6b29tQ29udHJvbCcsIC8vINCf0L7Qu9C30YPQvdC+0Log0LzQsNGB0YjRgtCw0LHQsFxyXG4gICAgICAgICAgICAgICAgLy8gJ3J1bGVyQ29udHJvbCcsIC8vINCb0LjQvdC10LnQutCwXHJcbiAgICAgICAgICAgICAgICAvLyAncm91dGVCdXR0b25Db250cm9sJywgLy8g0J/QsNC90LXQu9GMINC80LDRgNGI0YDRg9GC0LjQt9Cw0YbQuNC4XHJcbiAgICAgICAgICAgICAgICAvLyAndHJhZmZpY0NvbnRyb2wnLCAvLyDQn9GA0L7QsdC60LhcclxuICAgICAgICAgICAgICAgIC8vICd0eXBlU2VsZWN0b3InLCAvLyDQn9C10YDQtdC60LvRjtGH0LDRgtC10LvRjCDRgdC70L7QtdCyINC60LDRgNGC0YtcclxuICAgICAgICAgICAgICAgICdmdWxsc2NyZWVuQ29udHJvbCcsIC8vINCf0L7Qu9C90L7RjdC60YDQsNC90L3Ri9C5INGA0LXQttC40LxcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDQn9C+0LjRgdC60L7QstCw0Y8g0YHRgtGA0L7QutCwXHJcbiAgICAgICAgICAgICAgICBuZXcgeW1hcHMuY29udHJvbC5TZWFyY2hDb250cm9sKHtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vINCy0LjQtCAtINC/0L7QuNGB0LrQvtCy0LDRjyDRgdGC0YDQvtC60LBcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2xhcmdlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g0JLQutC70Y7Rh9C40Lwg0LLQvtC30LzQvtC20L3QvtGB0YLRjCDQuNGB0LrQsNGC0Ywg0L3QtSDRgtC+0LvRjNC60L4g0YLQvtC/0L7QvdC40LzRiywg0L3QviDQuCDQvtGA0LPQsNC90LjQt9Cw0YbQuNC4LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlcjogJ3lhbmRleCNzZWFyY2gnXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gbXlNYXAuYmVoYXZpb3JzLmRpc2FibGUoJ3Njcm9sbFpvb20nKTtcclxuICAgICAgICAvLyDQn9C+0YHQu9C1INGC0L7Qs9C+INC60LDQuiDQvNC10YLQutCwINCx0YvQu9CwINGB0L7Qt9C00LDQvdCwLCDQtNC+0LHQsNCy0LvRj9C10Lwg0LXRkSDQvdCwINC60LDRgNGC0YMuXHJcbiAgICAgICAgLy8gbXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlQbGFjZW1hcmspO1xyXG4gICAgICAgIHZhciBteVBsYWNlbWFyayA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoWzU1Ljc1NTk2LCAzNy42NTgyMV0sIG51bGwse1xyXG4gICAgICAgICAgICBpY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXHJcbiAgICAgICAgICAgIGljb25JbWFnZUhyZWY6IFwiLi4vYXNzZXRzL2ltYWdlcy9sb2dvTS5zdmdcIixcclxuICAgICAgICAgICAgaWNvbkltYWdlU2l6ZTogWzQ0LCA1NF0sXHJcbiAgICAgICAgICAgIC8vIGljb25JbWFnZU9mZnNldDogWy0xNSwgLTQ0XSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBteU1hcC5nZW9PYmplY3RzLmFkZChteVBsYWNlbWFyayk7XHJcbiAgICAgICAgdmFyIG15UGxhY2VtYXJrID0gbmV3IHltYXBzLlBsYWNlbWFyayhbNTUuNzU1MTMsIDM3LjY1Nzc5XSwgbnVsbCx7XHJcbiAgICAgICAgICAgIGljb25MYXlvdXQ6ICdkZWZhdWx0I2ltYWdlJyxcclxuICAgICAgICAgICAgaWNvbkltYWdlSHJlZjogXCIuLi9hc3NldHMvaW1hZ2VzL2xvZ29NQS5zdmdcIixcclxuICAgICAgICAgICAgaWNvbkltYWdlU2l6ZTogWzM0LCA0OF0sXHJcbiAgICAgICAgICAgIC8vIGljb25JbWFnZU9mZnNldDogWy0xNSwgLTQ0XSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBteU1hcC5nZW9PYmplY3RzLmFkZChteVBsYWNlbWFyayk7XHJcbiAgICB9XHJcbiAgICBcclxufSk7Il19
