$(function(){function n(t,a){var e="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend";0!=a&&a.each(function(){var t=$(this),a="animate__animated "+t.attr("data-animationOut");t.addClass(a).one(e,function(){t.removeClass(a)})}),t.each(function(){var t=$(this),a=t.data("delay"),i="animate__animated "+t.data("animation");t.css({"animation-delay":a,"-webkit-animation-delay":a}),t.addClass(i).one(e,function(){t.removeClass(i)})})}$(".modal_btn_close,.modal_close,.close_btn,.btnCloseModal").click(function(){$(".modal_window").fadeOut(),$("body,head,html").css("overflow-x","hidden"),$("body,head,html").css("overflow-y","auto")}),$(".open_modal").click(function(){var t=$(this).attr("monolit-modal");$(".modal_window").each(function(){$(this).attr("monolit-modal")==t&&($("body,head,html").css("overflow","hidden"),$(this).fadeIn())})}),$(".tabs__title").click(function(){if($(this).hasClass("active"))$(".tabs__title").removeClass("active"),$(".tabs__content").slideUp(300);else{$(".tabs__title").parent(".item").removeClass("active"),$(".tabs__title").removeClass("active"),$(this).parent(".item").addClass("active"),$(this).addClass("active"),$(".tabs__content").slideUp(300);var t=$(this).attr("monolit-tabs");$(".tabs__content").each(function(){$(this).attr("monolit-tabs")==t&&$(this).slideDown(300)})}}),$(".fancybox-media,.content_wp a:has(img)").fancybox({openEffect:"none",closeEffect:"none",maxWidth:"100%",maxHeight:"auto",padding:0,margin:0,helpers:{media:{youtube:{params:{theme:"light",vq:"hd720",css:{body:"color: #fff"}}}}}}),$("#animation-slider").on("beforeChange",function(t,a,i,e){var s=$('.slick-slide[data-slick-index="'+i+'"]').find("[data-animationOut]");n($('.slick-slide[data-slick-index="'+e+'"]').find("[data-animation]"),s)}),$("#animation-slider").on("init",function(t,a){n($(".slick-slide:first-child").find("[data-animation]"),!1)}),$(".hero-carousel").slick({autoplay:!0,autoplaySpeed:5e3,slidesToShow:1,slidesToScroll:1,fade:!0,arrows:!1,swipeToSlide:!0,dots:!0,appendDots:$(".slick-m-dots--main"),variableWidth:!1,responsive:[{breakpoint:800,settings:{}}]}),$(".cat-list-carousel").slick({slidesToShow:3,slidesToScroll:3,swipeToSlide:!0,infinite:!1,dots:!0,appendDots:$(".slick-m-dots--cat-list"),prevArrow:$(".slick-m-prev--cat-list"),nextArrow:$(".slick-m-next--cat-list"),variableWidth:!0,responsive:[{breakpoint:1115,settings:{variableWidth:!1,slidesToShow:2,slidesToScroll:2}}]}),$(".article-products-corusel").slick({slidesToShow:1,slidesToScroll:1,swipeToSlide:!0,infinite:!0,fade:!0,dots:!0,appendDots:$(".slick-m-dots--article-products"),prevArrow:$(".slick-m-prev--article-products"),nextArrow:$(".slick-m-next--article-products"),responsive:[{breakpoint:800,settings:{}}]}),$(".slick-m-dots--products").each(function(t){$(this).addClass("slick-m-dots--products-"+t)}),$(".products-corusel").each(function(t){$(this).addClass("products-corusel-"+t),$(".products-corusel-"+t).slick({slidesToShow:1,slidesToScroll:1,swipeToSlide:!0,infinite:!0,dots:!0,arrows:!1,appendDots:$(".slick-m-dots--products-"+t),variableWidth:!1,responsive:[{breakpoint:800,settings:{}}]})});var a=window.location.href;$(".menu li").each(function(){var t=$(this).find("a").attr("href");a==t&&($(this).addClass("active"),$(this).find("a").removeAttr("href"))}),$(".burger").on("click",function(){1==$(this).attr("data-click-state")?$(this).attr("data-click-state",0):$(this).attr("data-click-state",1),$(this).parents(".header").toggleClass("active"),$(this).parents(".sidebar").toggleClass("active"),$(this).parents(".sidebar-parent").toggleClass("active")}),$("a.parent").click(function(){$(this).parent("li").toggleClass("active"),$(this).siblings("ul").slideToggle()}),1366<$(document).width()&&($(".page__content-wrapper").theiaStickySidebar({additionalMarginTop:0,additionalMarginBottom:0}),$(".page__sidebar-wrapper").theiaStickySidebar({additionalMarginTop:0,additionalMarginBottom:0})),$('.scroll[href^="#"]').click(function(){return $("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},{duration:600,easing:"swing"}),!1}),new WOW({mobile:!1,live:!0}).init(),$("input,textarea").on("input keyup",function(){""==$(this).val()?($(this).removeClass("true"),$(this).addClass("false")):($(this).removeClass("false"),$(this).addClass("true"))}),$(".tel_mask").inputmask({mask:"+7 (999) 999-99-99",greedy:!0,clearMaskOnLostFocus:!1,clearIncomplete:!0}),$(".quantity_inner .bt_minus").click(function(){var t=$(this).parent().find(".quantity"),a=t.attr("data-sep"),i=parseInt(t.val())-1;i=i<1?1:i,t.val(i+" "+a),t.attr("data-count",parseInt(i))}),$(".quantity_inner .bt_plus").click(function(){var t=$(this).parent().find(".quantity"),a=t.attr("data-sep"),i=parseInt(t.val())+1;i=i>parseInt(t.data("max-count"))?parseInt(t.data("max-count")):i,t.val(parseInt(i)+" "+a),t.attr("data-count",parseInt(i))}),$(".quantity_inner .quantity").bind("change keyupel_input click",function(){this.value.match(/[^0-9]/g)&&(this.value=this.value.replace(/[^0-9]/g,"")),""==this.value&&(this.value=1),this.value>parseInt($(this).data("max-count"))&&(this.value=parseInt($(this).data("max-count")))}),ymaps.ready(function(){var t=new ymaps.Map("map",{center:i,zoom:17,controls:["zoomControl","fullscreenControl",new ymaps.control.SearchControl({options:{size:"large",provider:"yandex#search"}})]}),a=new ymaps.Placemark([55.75596,37.65821],null,{iconLayout:"default#image",iconImageHref:"../assets/images/logoM.svg",iconImageSize:[44,54]});t.geoObjects.add(a);var a=new ymaps.Placemark([55.75513,37.65779],null,{iconLayout:"default#image",iconImageHref:"../assets/images/logoMA.svg",iconImageSize:[34,48]});t.geoObjects.add(a)});var i=[55.755532,37.658499]});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvb3Rlci9mb290ZXIuanMiXSwibmFtZXMiOlsiJCIsImFuaW1hdGVTbGlkZXIiLCJlbGVtZW50cyIsImN1cnJlbnRTbGlkZSIsImFuaW1hdGlvbkVuZEV2ZW50cyIsImVhY2giLCIkdGhpcyIsInRoaXMiLCIkYW5pbWF0aW9uVHlwZSIsImF0dHIiLCJhZGRDbGFzcyIsIm9uZSIsInJlbW92ZUNsYXNzIiwiJGFuaW1hdGlvbkRlbGF5IiwiZGF0YSIsImNzcyIsImFuaW1hdGlvbi1kZWxheSIsIi13ZWJraXQtYW5pbWF0aW9uLWRlbGF5IiwiY2xpY2siLCJmYWRlT3V0IiwiaWRfYnRuIiwiZmFkZUluIiwiaGFzQ2xhc3MiLCJzbGlkZVVwIiwicGFyZW50Iiwic2xpZGVEb3duIiwiZmFuY3lib3giLCJvcGVuRWZmZWN0IiwiY2xvc2VFZmZlY3QiLCJtYXhXaWR0aCIsIm1heEhlaWdodCIsInBhZGRpbmciLCJtYXJnaW4iLCJoZWxwZXJzIiwibWVkaWEiLCJ5b3V0dWJlIiwicGFyYW1zIiwidGhlbWUiLCJ2cSIsImJvZHkiLCJvbiIsImUiLCJzbGljayIsIm5leHRTbGlkZSIsImN1cnJlbnRFbGVtZW50cyIsImZpbmQiLCJhdXRvcGxheSIsImF1dG9wbGF5U3BlZWQiLCJzbGlkZXNUb1Nob3ciLCJzbGlkZXNUb1Njcm9sbCIsImZhZGUiLCJhcnJvd3MiLCJzd2lwZVRvU2xpZGUiLCJkb3RzIiwiYXBwZW5kRG90cyIsInZhcmlhYmxlV2lkdGgiLCJyZXNwb25zaXZlIiwiYnJlYWtwb2ludCIsInNldHRpbmdzIiwiaW5maW5pdGUiLCJwcmV2QXJyb3ciLCJuZXh0QXJyb3ciLCJpIiwiY3VyX3VybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImxpbmsiLCJyZW1vdmVBdHRyIiwicGFyZW50cyIsInRvZ2dsZUNsYXNzIiwic2libGluZ3MiLCJzbGlkZVRvZ2dsZSIsImRvY3VtZW50Iiwid2lkdGgiLCJ0aGVpYVN0aWNreVNpZGViYXIiLCJhZGRpdGlvbmFsTWFyZ2luVG9wIiwiYWRkaXRpb25hbE1hcmdpbkJvdHRvbSIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJkdXJhdGlvbiIsImVhc2luZyIsIldPVyIsIm1vYmlsZSIsImxpdmUiLCJpbml0IiwidmFsIiwiaW5wdXRtYXNrIiwibWFzayIsImdyZWVkeSIsImNsZWFyTWFza09uTG9zdEZvY3VzIiwiY2xlYXJJbmNvbXBsZXRlIiwiZWxfaW5wdXQiLCJzZXAiLCJjb3VudCIsInBhcnNlSW50IiwiYmluZCIsInZhbHVlIiwibWF0Y2giLCJyZXBsYWNlIiwieW1hcHMiLCJyZWFkeSIsIm15TWFwIiwiTWFwIiwiY2VudGVyIiwiZ2VvY29kZSIsInpvb20iLCJjb250cm9scyIsImNvbnRyb2wiLCJTZWFyY2hDb250cm9sIiwib3B0aW9ucyIsInNpemUiLCJwcm92aWRlciIsIm15UGxhY2VtYXJrIiwiUGxhY2VtYXJrIiwiaWNvbkxheW91dCIsImljb25JbWFnZUhyZWYiLCJpY29uSW1hZ2VTaXplIiwiZ2VvT2JqZWN0cyIsImFkZCJdLCJtYXBwaW5ncyI6IkFBQ0FBLEVBQUEsV0ErRUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FDQSxJQUFBQyxFQUFBLCtFQUNBLEdBQUFELEdBQ0FBLEVBQUFFLEtBQUEsV0FDQSxJQUFBQyxFQUFBTixFQUFBTyxNQUNBQyxFQUFBLHFCQUFBRixFQUFBRyxLQUFBLHFCQUNBSCxFQUFBSSxTQUFBRixHQUFBRyxJQUFBUCxFQUFBLFdBQ0FFLEVBQUFNLFlBQUFKLE9BSUFOLEVBQUFHLEtBQUEsV0FDQSxJQUFBQyxFQUFBTixFQUFBTyxNQUNBTSxFQUFBUCxFQUFBUSxLQUFBLFNBQ0FOLEVBQUEscUJBQUFGLEVBQUFRLEtBQUEsYUFDQVIsRUFBQVMsSUFBQSxDQUNBQyxrQkFBQUgsRUFDQUksMEJBQUFKLElBRUFQLEVBQUFJLFNBQUFGLEdBQUFHLElBQUFQLEVBQUEsV0FDQUUsRUFBQU0sWUFBQUosT0FwRkFSLEVBQUEsMkRBQUFrQixNQUFBLFdBQ0FsQixFQUFB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S0FBQSxpQkFJQXdGLE1BQUFDLE1BSUEsV0FFQSxJQUFBQyxFQUFBLElBQUFGLE1BQUFHLElBQUEsTUFBQSxDQUdBQyxPQUFBQyxFQUdBQyxLQUFBLEdBR0FDLFNBQUEsQ0FFQSxjQUtBLG9CQUdBLElBQUFQLE1BQUFRLFFBQUFDLGNBQUEsQ0FDQUMsUUFBQSxDQUVBQyxLQUFBLFFBRUFDLFNBQUEsc0JBVUFDLEVBQUEsSUFBQWIsTUFBQWMsVUFBQSxDQUFBLFNBQUEsVUFBQSxLQUFBLENBQ0FDLFdBQUEsZ0JBQ0FDLGNBQUEsNkJBQ0FDLGNBQUEsQ0FBQSxHQUFBLE1BR0FmLEVBQUFnQixXQUFBQyxJQUFBTixHQUNBLElBQUFBLEVBQUEsSUFBQWIsTUFBQWMsVUFBQSxDQUFBLFNBQUEsVUFBQSxLQUFBLENBQ0FDLFdBQUEsZ0JBQ0FDLGNBQUEsOEJBQ0FDLGNBQUEsQ0FBQSxHQUFBLE1BR0FmLEVBQUFnQixXQUFBQyxJQUFBTixLQW5EQSxJQUFBUixFQUFBLENBQUEsVUFBQSIsImZpbGUiOiJjb21tb24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbiQoZnVuY3Rpb24oKXtcclxuXHQvLyAkLnBpeGxheW91dCh7XHJcblx0Ly8gXHRzcmM6IFwiL2FwcC5wbmdcIiwgXHJcblx0Ly8gXHRvcGFjaXR5OiAwLjMsXHJcbiAgICAvLyAgICAgdG9wOiAwLFxyXG4gICAgLy8gICAgIGNlbnRlcjogdHJ1ZSxcclxuICAgIC8vICAgICBsZWZ0OiAyNDAsXHJcbiAgICAvLyAgICAgcmlnaHQ6IDIzNSxcclxuXHQvLyBcdHBlcnZpb3VzOiB0cnVlLFxyXG5cdC8vIFx0Y2xpcDogdHJ1ZSxcclxuXHQvLyBcdHNob3c6IHRydWVcclxuICAgIC8vIH0sIFwiYm9keVwiKTtcclxuICAgIFxyXG4gICAgLy8g0JzQvtC00LDQu9GM0L3Ri9C1INC+0LrQvdCwXHJcbiAgICBmdW5jdGlvbiBtb2RhbCgpe1xyXG4gICAgICAgICQoJy5tb2RhbF9idG5fY2xvc2UsLm1vZGFsX2Nsb3NlLC5jbG9zZV9idG4sLmJ0bkNsb3NlTW9kYWwnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAkKCcubW9kYWxfd2luZG93JykuZmFkZU91dCgpO1xyXG4gICAgICAgICAgICAkKCdib2R5LGhlYWQsaHRtbCcpLmNzcygnb3ZlcmZsb3cteCcsJ2hpZGRlbicpXHJcbiAgICAgICAgICAgICQoJ2JvZHksaGVhZCxodG1sJykuY3NzKCdvdmVyZmxvdy15JywnYXV0bycpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCgnLm9wZW5fbW9kYWwnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB2YXIgaWRfYnRuID0gJCh0aGlzKS5hdHRyKCdtb25vbGl0LW1vZGFsJyk7XHJcbiAgICAgICAgICAgICQoJy5tb2RhbF93aW5kb3cnKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBpZigkKHRoaXMpLmF0dHIoJ21vbm9saXQtbW9kYWwnKSA9PSBpZF9idG4pe1xyXG4gICAgICAgICAgICAgICAgICAgICQoJ2JvZHksaGVhZCxodG1sJykuY3NzKCdvdmVyZmxvdycsJ2hpZGRlbicpXHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5mYWRlSW4oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgbW9kYWwoKVxyXG5cclxuICAgIC8vINCi0LDQsdGLXHJcbiAgICBmdW5jdGlvbiB0YWIycygpe1xyXG4gICAgICAgICQoJy50YWJzX190aXRsZScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmKCQodGhpcykuaGFzQ2xhc3MoJ2FjdGl2ZScpKXtcclxuICAgICAgICAgICAgICAgICQoJy50YWJzX190aXRsZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICQoJy50YWJzX19jb250ZW50Jykuc2xpZGVVcCgzMDApXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgJCgnLnRhYnNfX3RpdGxlJykucGFyZW50KCcuaXRlbScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICQoJy50YWJzX190aXRsZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykucGFyZW50KCcuaXRlbScpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnRhYnNfX2NvbnRlbnQnKS5zbGlkZVVwKDMwMClcclxuICAgICAgICAgICAgICAgIHZhciBpZF9idG4gPSAkKHRoaXMpLmF0dHIoJ21vbm9saXQtdGFicycpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnRhYnNfX2NvbnRlbnQnKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoJCh0aGlzKS5hdHRyKCdtb25vbGl0LXRhYnMnKSA9PSBpZF9idG4pe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnNsaWRlRG93bigzMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIHRhYjJzKClcclxuXHJcbiAgICAvLyDQo9Cy0LXQu9C40YfQtdC90LjQtSDQutCw0YDRgtC40L3QvtC6XHJcbiAgICAkKCcuZmFuY3lib3gtbWVkaWEsLmNvbnRlbnRfd3AgYTpoYXMoaW1nKScpLmZhbmN5Ym94KHtcclxuICAgICAgICBvcGVuRWZmZWN0ICA6ICdub25lJyxcclxuICAgICAgICBjbG9zZUVmZmVjdCA6ICdub25lJyxcclxuICAgICAgICAgICAgbWF4V2lkdGggICAgOiAnMTAwJScsXHJcbiAgICAgICAgICAgIG1heEhlaWdodCAgIDogJ2F1dG8nLCAgXHJcbiAgICAgICAgICAgIHBhZGRpbmcgICAgIDogMCxcclxuICAgICAgICAgICAgbWFyZ2luICAgICAgOiAwLCAgICAgICAgICAgXHJcbiAgICAgICAgaGVscGVycyA6IHtcclxuICAgICAgICAgIG1lZGlhIDoge1xyXG4gICAgICAgICAgICAgIHlvdXR1YmUgOiB7XHJcbiAgICAgICAgICAgICAgICAgICBwYXJhbXMgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgdGhlbWUgOiAnbGlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZxICAgIDogJ2hkNzIwJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3MgICA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYm9keScgOiAnY29sb3I6ICNmZmYnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBcclxuICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vINCQ0L3QuNC80LDRhtC40Y8g0YHQu9Cw0LnQtNC10YDQsFxyXG4gICAgZnVuY3Rpb24gYW5pbWF0ZVNsaWRlcihlbGVtZW50cyxjdXJyZW50U2xpZGUpe1xyXG4gICAgICAgIHZhciBhbmltYXRpb25FbmRFdmVudHMgPSAnd2Via2l0QW5pbWF0aW9uRW5kIG1vekFuaW1hdGlvbkVuZCBNU0FuaW1hdGlvbkVuZCBvYW5pbWF0aW9uZW5kIGFuaW1hdGlvbmVuZCc7XHJcbiAgICAgICAgaWYoY3VycmVudFNsaWRlICE9IGZhbHNlKXtcclxuICAgICAgICAgICAgY3VycmVudFNsaWRlLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgJGFuaW1hdGlvblR5cGUgPSAnYW5pbWF0ZV9fYW5pbWF0ZWQgJyArICR0aGlzLmF0dHIoJ2RhdGEtYW5pbWF0aW9uT3V0Jyk7XHJcbiAgICAgICAgICAgICAgICAkdGhpcy5hZGRDbGFzcygkYW5pbWF0aW9uVHlwZSkub25lKGFuaW1hdGlvbkVuZEV2ZW50cywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMucmVtb3ZlQ2xhc3MoJGFuaW1hdGlvblR5cGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsZW1lbnRzLmVhY2goZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgdmFyICRhbmltYXRpb25EZWxheSA9ICR0aGlzLmRhdGEoJ2RlbGF5Jyk7XHJcbiAgICAgICAgICAgIHZhciAkYW5pbWF0aW9uVHlwZSA9ICdhbmltYXRlX19hbmltYXRlZCAnICsgJHRoaXMuZGF0YSgnYW5pbWF0aW9uJyk7XHJcbiAgICAgICAgICAgICR0aGlzLmNzcyh7XHJcbiAgICAgICAgICAgICAgJ2FuaW1hdGlvbi1kZWxheSc6ICRhbmltYXRpb25EZWxheSxcclxuICAgICAgICAgICAgICAnLXdlYmtpdC1hbmltYXRpb24tZGVsYXknOiAkYW5pbWF0aW9uRGVsYXlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICR0aGlzLmFkZENsYXNzKCRhbmltYXRpb25UeXBlKS5vbmUoYW5pbWF0aW9uRW5kRXZlbnRzLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICR0aGlzLnJlbW92ZUNsYXNzKCRhbmltYXRpb25UeXBlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgICQoXCIjYW5pbWF0aW9uLXNsaWRlclwiKS5vbihcImJlZm9yZUNoYW5nZVwiLCBmdW5jdGlvbihlLCBzbGljaywgY3VycmVudFNsaWRlLCBuZXh0U2xpZGUpIHtcclxuICAgICAgICB2YXIgY3VycmVudEVsZW1lbnRzID0gJCgnLnNsaWNrLXNsaWRlW2RhdGEtc2xpY2staW5kZXg9XCInICsgY3VycmVudFNsaWRlICsgJ1wiXScpLmZpbmQoJ1tkYXRhLWFuaW1hdGlvbk91dF0nKTtcclxuICAgICAgICB2YXIgJGFuaW1hdGluZ0VsZW1lbnRzID0gJCgnLnNsaWNrLXNsaWRlW2RhdGEtc2xpY2staW5kZXg9XCInICsgbmV4dFNsaWRlICsgJ1wiXScpLmZpbmQoJ1tkYXRhLWFuaW1hdGlvbl0nKTtcclxuICAgICAgICBhbmltYXRlU2xpZGVyKCRhbmltYXRpbmdFbGVtZW50cyxjdXJyZW50RWxlbWVudHMpOyAgICBcclxuICAgIH0pXHJcbiAgICAkKCcjYW5pbWF0aW9uLXNsaWRlcicpLm9uKCdpbml0JywgZnVuY3Rpb24oZSwgc2xpY2spIHtcclxuICAgICAgICB2YXIgJGZpcnN0QW5pbWF0aW5nRWxlbWVudHMgPSAkKCcuc2xpY2stc2xpZGU6Zmlyc3QtY2hpbGQnKS5maW5kKCdbZGF0YS1hbmltYXRpb25dJyk7XHJcbiAgICAgICAgYW5pbWF0ZVNsaWRlcigkZmlyc3RBbmltYXRpbmdFbGVtZW50cyxmYWxzZSk7ICAgIFxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gc2xpY2tcclxuICAgICQoJy5oZXJvLWNhcm91c2VsJykuc2xpY2soe1xyXG4gICAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICAgIGF1dG9wbGF5U3BlZWQ6IDUwMDAsXHJcbiAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxyXG4gICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICAgIGZhZGU6IHRydWUsXHJcbiAgICAgICAgYXJyb3dzOiBmYWxzZSxcclxuICAgICAgICBzd2lwZVRvU2xpZGU6IHRydWUsXHJcbiAgICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgICBhcHBlbmREb3RzOiAkKFwiLnNsaWNrLW0tZG90cy0tbWFpblwiKSxcclxuICAgICAgICB2YXJpYWJsZVdpZHRoOiBmYWxzZSxcclxuICAgICAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDgwMCxcclxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICBdXHJcbiAgICB9KTtcclxuICAgICQoJy5jYXQtbGlzdC1jYXJvdXNlbCcpLnNsaWNrKHtcclxuICAgICAgICBzbGlkZXNUb1Nob3c6IDMsXHJcbiAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDMsXHJcbiAgICAgICAgc3dpcGVUb1NsaWRlOiB0cnVlLFxyXG4gICAgICAgIGluZmluaXRlOiBmYWxzZSxcclxuICAgICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICAgIGFwcGVuZERvdHM6ICQoXCIuc2xpY2stbS1kb3RzLS1jYXQtbGlzdFwiKSxcclxuICAgICAgICBwcmV2QXJyb3c6ICQoXCIuc2xpY2stbS1wcmV2LS1jYXQtbGlzdFwiKSxcclxuICAgICAgICBuZXh0QXJyb3c6ICQoXCIuc2xpY2stbS1uZXh0LS1jYXQtbGlzdFwiKSxcclxuICAgICAgICB2YXJpYWJsZVdpZHRoOiB0cnVlLFxyXG4gICAgICAgIHJlc3BvbnNpdmU6IFtcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgYnJlYWtwb2ludDogMTExNSxcclxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgICAgIHZhcmlhYmxlV2lkdGg6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAyLFxyXG4gICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDIsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgXVxyXG4gICAgfSk7XHJcbiAgICAkKCcuYXJ0aWNsZS1wcm9kdWN0cy1jb3J1c2VsJykuc2xpY2soe1xyXG4gICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcclxuICAgICAgICBzd2lwZVRvU2xpZGU6IHRydWUsXHJcbiAgICAgICAgaW5maW5pdGU6IHRydWUsXHJcbiAgICAgICAgZmFkZTogdHJ1ZSxcclxuICAgICAgICBkb3RzOiB0cnVlLFxyXG4gICAgICAgIGFwcGVuZERvdHM6ICQoXCIuc2xpY2stbS1kb3RzLS1hcnRpY2xlLXByb2R1Y3RzXCIpLFxyXG4gICAgICAgIHByZXZBcnJvdzogJChcIi5zbGljay1tLXByZXYtLWFydGljbGUtcHJvZHVjdHNcIiksXHJcbiAgICAgICAgbmV4dEFycm93OiAkKFwiLnNsaWNrLW0tbmV4dC0tYXJ0aWNsZS1wcm9kdWN0c1wiKSxcclxuICAgICAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDgwMCxcclxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICBdXHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcuc2xpY2stbS1kb3RzLS1wcm9kdWN0cycpLmVhY2goZnVuY3Rpb24oaSl7XHJcbiAgICAgICAgdmFyIGVsZW0gPSAkKHRoaXMpO1xyXG4gICAgICAgIGVsZW0uYWRkQ2xhc3MoJ3NsaWNrLW0tZG90cy0tcHJvZHVjdHMtJytpKTtcclxuICAgIH0pO1xyXG4gICAgJCgnLnByb2R1Y3RzLWNvcnVzZWwnKS5lYWNoKGZ1bmN0aW9uKGkpe1xyXG4gICAgICAgIHZhciBlbGVtID0gJCh0aGlzKTtcclxuICAgICAgICBlbGVtLmFkZENsYXNzKCdwcm9kdWN0cy1jb3J1c2VsLScraSk7XHJcbiAgICAgICAgJCgnLnByb2R1Y3RzLWNvcnVzZWwtJytpKS5zbGljayh7XHJcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMSxcclxuICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXHJcbiAgICAgICAgICAgIHN3aXBlVG9TbGlkZTogdHJ1ZSxcclxuICAgICAgICAgICAgaW5maW5pdGU6IHRydWUsXHJcbiAgICAgICAgICAgIGRvdHM6IHRydWUsXHJcbiAgICAgICAgICAgIGFycm93czogZmFsc2UsXHJcbiAgICAgICAgICAgIGFwcGVuZERvdHM6ICQoXCIuc2xpY2stbS1kb3RzLS1wcm9kdWN0cy1cIitpKSxcclxuICAgICAgICAgICAgdmFyaWFibGVXaWR0aDogZmFsc2UsXHJcbiAgICAgICAgICAgIHJlc3BvbnNpdmU6IFtcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBicmVha3BvaW50OiA4MDAsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBcclxuICAgIC8vINCj0LrQsNC30YvQstCw0LXQvCDRgtC10LrRg9GJ0YPRjiDRgdGB0YvQu9C60YNcclxuICAgIHZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xyXG4gICAgLy8gdmFyIGN1cl91cmwgPSAnLycgKyBsb2NhdGlvbi5zcGxpdCgnLycpLnBvcCgpO1xyXG4gICAgdmFyIGN1cl91cmwgPSBsb2NhdGlvbjtcclxuIFxyXG4gICAgJCgnLm1lbnUgbGknKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgbGluayA9ICQodGhpcykuZmluZCgnYScpLmF0dHIoJ2hyZWYnKTtcclxuIFxyXG4gICAgICAgIGlmIChjdXJfdXJsID09IGxpbmspIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQodGhpcykuZmluZCgnYScpLnJlbW92ZUF0dHIoJ2hyZWYnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDQnNC10L3RjiDQsdGD0YDQs9C10YBcclxuICAgICQoJy5idXJnZXInKS5vbignY2xpY2snLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgaWYoJCh0aGlzKS5hdHRyKCdkYXRhLWNsaWNrLXN0YXRlJykgPT0gMSkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmF0dHIoJ2RhdGEtY2xpY2stc3RhdGUnLCAwKVxyXG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudHMoJy5oZWFkZXInKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLnNpZGViYXInKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLnNpZGViYXItcGFyZW50JykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQodGhpcykuYXR0cignZGF0YS1jbGljay1zdGF0ZScsIDEpXHJcbiAgICAgICAgICAgICQodGhpcykucGFyZW50cygnLmhlYWRlcicpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuc2lkZWJhcicpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCcuc2lkZWJhci1wYXJlbnQnKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8g0J7RgtC60YDRi9GC0LjQtSDQtNC+0YfQtdGA0L3QtdCz0L4g0LzQtdC90Y5cclxuICAgICQoJ2EucGFyZW50JykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAkKHRoaXMpLnBhcmVudCgnbGknKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgJCh0aGlzKS5zaWJsaW5ncygndWwnKS5zbGlkZVRvZ2dsZSgpO1xyXG4gICAgfSlcclxuXHJcbiAgICAvLyDQsNC00LDQv9GC0LjQsiDQsiBqc1xyXG4gICAgaWYoJChkb2N1bWVudCkud2lkdGgoKSA+IDEzNjYgPyB0cnVlIDogZmFsc2Upe1xyXG4gICAgICAgICQoJy5wYWdlX19jb250ZW50LXdyYXBwZXInKS50aGVpYVN0aWNreVNpZGViYXIoe1xyXG4gICAgICAgICAgICBhZGRpdGlvbmFsTWFyZ2luVG9wOiAwLFxyXG4gICAgICAgICAgICBhZGRpdGlvbmFsTWFyZ2luQm90dG9tOiAwLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoJy5wYWdlX19zaWRlYmFyLXdyYXBwZXInKS50aGVpYVN0aWNreVNpZGViYXIoe1xyXG4gICAgICAgICAgICBhZGRpdGlvbmFsTWFyZ2luVG9wOiAwLFxyXG4gICAgICAgICAgICBhZGRpdGlvbmFsTWFyZ2luQm90dG9tOiAwLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vICQoJy5ibG9ja19fY29udGVudC13cmFwcGVyJykudGhlaWFTdGlja3lTaWRlYmFyKHtcclxuICAgICAgICAvLyAgICAgYWRkaXRpb25hbE1hcmdpblRvcDogMjAsXHJcbiAgICAgICAgLy8gICAgIGFkZGl0aW9uYWxNYXJnaW5Cb3R0b206IDIwLFxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8vICQoJy5ibG9ja19fc2lkZWJhci13cmFwcGVyJykudGhlaWFTdGlja3lTaWRlYmFyKHtcclxuICAgICAgICAvLyAgICAgYWRkaXRpb25hbE1hcmdpblRvcDogMjAsXHJcbiAgICAgICAgLy8gICAgIGFkZGl0aW9uYWxNYXJnaW5Cb3R0b206IDIwLFxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgfTtcclxuICAgIFxyXG4gICAgLy8g0YHQsNC50LQg0LHQsNGA0YtcclxuXHJcbiAgICAvLyDQodC60YDQvtC7INC00L4g0L/Rg9C90LrRgtCwXHJcbiAgICAkKCcuc2Nyb2xsW2hyZWZePVwiI1wiXScpLmNsaWNrKGZ1bmN0aW9uKCkgeyBcclxuICAgICAgICAkKFwiaHRtbCwgYm9keVwiKS5hbmltYXRlKHtcclxuICAgICAgICAgICBzY3JvbGxUb3A6ICQoJCh0aGlzKS5hdHRyKFwiaHJlZlwiKSkub2Zmc2V0KCkudG9wXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgIGR1cmF0aW9uOiA2MDAsXHJcbiAgICAgICAgICAgZWFzaW5nOiBcInN3aW5nXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyB3b3cg0LDQvdC40LzQsNGG0LjRj1xyXG4gICAgdmFyIHdvdyA9IG5ldyBXT1coXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgbW9iaWxlOiAgICAgICBmYWxzZSwgICBcclxuICAgICAgICAgIGxpdmU6ICAgICAgICAgdHJ1ZSwgICAgIFxyXG4gICAgICAgIH1cclxuICAgICk7XHJcbiAgICB3b3cuaW5pdCgpO1xyXG5cclxuICAgICQoJ2lucHV0LHRleHRhcmVhJykub24oJ2lucHV0IGtleXVwJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBWYWx1ZSA9ICQodGhpcykudmFsKCk7XHJcbiAgICAgICAgaWYoVmFsdWUgPT0gJycpe1xyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCd0cnVlJyk7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2ZhbHNlJyk7IFxyXG4gICAgICAgIH1lbHNleyBcclxuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZmFsc2UnKTsgXHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3RydWUnKTsgXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gaWYoJChkb2N1bWVudCkud2lkdGgoKSA+IDgwMCA/IHRydWUgOiBmYWxzZSl7XHJcbiAgICAvLyAgICAgdmFyIHJlbGxheDIgPSBuZXcgUmVsbGF4KCcuYXJ0aWNsZS1oZWFkIC5jb250YWluZXInLCB7XHJcbiAgICAvLyAgICAgICAgIGNlbnRlcjogdHJ1ZSxcclxuICAgIC8vICAgICAgICAgc3BlZWQ6IC0zLFxyXG4gICAgLy8gICAgIH0pO1xyXG4gICAgLy8gfVxyXG4gICAgLy8gaWYoJChkb2N1bWVudCkud2lkdGgoKSA+IDgwMCA/IHRydWUgOiBmYWxzZSl7XHJcbiAgICAvLyAgICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpe1xyXG4gICAgLy8gICAgICAgICAkKCcuaGVyby1jYXJvdXNlbF9faXRlbScpLmJnc2Nyb2xsKHtcclxuICAgIC8vICAgICAgICAgfSk7XHJcbiAgICAvLyAgICAgICAgIC8vICQoJy5uZXdzLXByZXYnKS5iZ3Njcm9sbCh7XHJcbiAgICAvLyAgICAgICAgIC8vIH0pO1xyXG4gICAgLy8gICAgICAgICAkKCcuYXJ0aWNsZS1oZWFkJykuYmdzY3JvbGwoe1xyXG5cclxuICAgIC8vICAgICAgICAgfSk7XHJcbiAgICAvLyAgICAgfSlcclxuICAgIC8vIH07XHJcblxyXG5cclxuICAgIC8vINC/0L7QuNGB0Log0L/QviBzZWxlY3RcclxuICAgIC8vICQoXCIuanMtc2VsZWN0aXplXCIpLmNob3Nlbih7bm9fcmVzdWx0c190ZXh0OiBcIk9vcHMsIG5vdGhpbmcgZm91bmQhXCJ9KTsgXHJcbiAgICAvLyDQvNC+0LrRgdC60LhcclxuICAgICQoXCIudGVsX21hc2tcIikuaW5wdXRtYXNrKHtcclxuICAgICAgICBtYXNrOiBcIis3ICg5OTkpIDk5OS05OS05OVwiLFxyXG4gICAgICAgIGdyZWVkeTogdHJ1ZSxcclxuICAgICAgICBjbGVhck1hc2tPbkxvc3RGb2N1czogZmFsc2UsXHJcbiAgICAgICAgY2xlYXJJbmNvbXBsZXRlOiB0cnVlXHJcbiAgICB9KTtcclxuICBcclxuICAgXHJcbiAgICBcclxuICAgIC8vINCa0L7Qu9C40YfQtdGB0YLQstC+INCyINC60L7RgNC30LjQvdC1XHJcbiAgICAvLyDQo9Cx0LDQstC70Y/QtdC8INC60L7Quy3QstC+INC/0L4g0LrQu9C40LrRg1xyXG4gICAgJCgnLnF1YW50aXR5X2lubmVyIC5idF9taW51cycpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBlbF9pbnB1dCA9ICQodGhpcykucGFyZW50KCkuZmluZCgnLnF1YW50aXR5Jyk7XHJcbiAgICAgICAgdmFyIHNlcCA9IGVsX2lucHV0LmF0dHIoJ2RhdGEtc2VwJyk7XHJcbiAgICAgICAgdmFyIGNvdW50ID0gcGFyc2VJbnQoZWxfaW5wdXQudmFsKCkpIC0gMTtcclxuICAgICAgICBjb3VudCA9IGNvdW50IDwgMSA/IDEgOiBjb3VudDtcclxuICAgICAgICBlbF9pbnB1dC52YWwoY291bnQgKycgJysgc2VwKTtcclxuICAgICAgICBlbF9pbnB1dC5hdHRyKCdkYXRhLWNvdW50JyxwYXJzZUludChjb3VudCkpXHJcbiAgICB9KTtcclxuICAgIC8vINCf0YDQuNCx0LDQstC70Y/QtdC8INC60L7Quy3QstC+INC/0L4g0LrQu9C40LrRg1xyXG4gICAgJCgnLnF1YW50aXR5X2lubmVyIC5idF9wbHVzJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGVsX2lucHV0ID0gJCh0aGlzKS5wYXJlbnQoKS5maW5kKCcucXVhbnRpdHknKTtcclxuICAgICAgICB2YXIgc2VwID0gZWxfaW5wdXQuYXR0cignZGF0YS1zZXAnKTtcclxuICAgICAgICB2YXIgY291bnQgPSBwYXJzZUludChlbF9pbnB1dC52YWwoKSkgKyAxO1xyXG4gICAgICAgIGNvdW50ID0gY291bnQgPiBwYXJzZUludChlbF9pbnB1dC5kYXRhKCdtYXgtY291bnQnKSkgPyBwYXJzZUludChlbF9pbnB1dC5kYXRhKCdtYXgtY291bnQnKSkgOiBjb3VudDtcclxuICAgICAgICBlbF9pbnB1dC52YWwocGFyc2VJbnQoY291bnQpICsnICcrIHNlcCk7XHJcbiAgICAgICAgZWxfaW5wdXQuYXR0cignZGF0YS1jb3VudCcscGFyc2VJbnQoY291bnQpKVxyXG4gICAgfSk7IFxyXG4gICAgLy8g0KPQsdC40YDQsNC10Lwg0LLRgdC1INC70LjRiNC90LXQtSDQuCDQvdC10LLQvtC30LzQvtC20L3QvtC1INC/0YDQuCDQuNC30LzQtdC90LXQvdC40Lgg0L/QvtC70Y9cclxuICAgICQoJy5xdWFudGl0eV9pbm5lciAucXVhbnRpdHknKS5iaW5kKFwiY2hhbmdlIGtleXVwZWxfaW5wdXQgY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudmFsdWUubWF0Y2goL1teMC05XS9nKSkge1xyXG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5yZXBsYWNlKC9bXjAtOV0vZywgJycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy52YWx1ZSA9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy52YWx1ZSA+IHBhcnNlSW50KCQodGhpcykuZGF0YSgnbWF4LWNvdW50JykpKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBwYXJzZUludCgkKHRoaXMpLmRhdGEoJ21heC1jb3VudCcpKTtcclxuICAgICAgICB9ICAgIFxyXG4gICAgfSk7ICAgXHJcbiAgICAvLyDQmtCw0YDRgtCwXHJcbiAgICB5bWFwcy5yZWFkeShpbml0KTtcclxuXHJcbiAgICB2YXIgZ2VvY29kZSA9IFs1NS43NTU1MzIsIDM3LjY1ODQ5OV07XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgICAgICAvLyDQodC+0LfQtNCw0L3QuNC1INC60LDRgNGC0YsuXHJcbiAgICAgICAgdmFyIG15TWFwID0gbmV3IHltYXBzLk1hcChcIm1hcFwiLCB7XHJcbiAgICAgICAgICAgIC8vINCa0L7QvtGA0LTQuNC90LDRgtGLINGG0LXQvdGC0YDQsCDQutCw0YDRgtGLLlxyXG4gICAgICAgICAgICAvLyDQn9C+0YDRj9C00L7QuiDQv9C+INGD0LzQvtC70YfQvdC40Y46IMKr0YjQuNGA0L7RgtCwLCDQtNC+0LvQs9C+0YLQsMK7LlxyXG4gICAgICAgICAgICBjZW50ZXI6IGdlb2NvZGVcdCxcclxuICAgICAgICAgICAgLy8g0KPRgNC+0LLQtdC90Ywg0LzQsNGB0YjRgtCw0LHQuNGA0L7QstCw0L3QuNGPLiDQlNC+0L/Rg9GB0YLQuNC80YvQtSDQt9C90LDRh9C10L3QuNGPOlxyXG4gICAgICAgICAgICAvLyDQvtGCIDAgKNCy0LXRgdGMINC80LjRgCkg0LTQviAxOS5cclxuICAgICAgICAgICAgem9vbTogMTcsXHJcbiAgICAgICAgICAgIC8vINCt0LvQtdC80LXQvdGC0Ysg0YPQv9GA0LDQstC70LXQvdC40Y9cclxuICAgICAgICAgICAgLy8gaHR0cHM6Ly90ZWNoLnlhbmRleC5ydS9tYXBzL2RvYy9qc2FwaS8yLjEvZGcvY29uY2VwdHMvY29udHJvbHMvc3RhbmRhcmQtZG9jcGFnZS9cclxuICAgICAgICAgICAgY29udHJvbHM6IFtcclxuXHJcbiAgICAgICAgICAgICAgICAnem9vbUNvbnRyb2wnLCAvLyDQn9C+0LvQt9GD0L3QvtC6INC80LDRgdGI0YLQsNCx0LBcclxuICAgICAgICAgICAgICAgIC8vICdydWxlckNvbnRyb2wnLCAvLyDQm9C40L3QtdC50LrQsFxyXG4gICAgICAgICAgICAgICAgLy8gJ3JvdXRlQnV0dG9uQ29udHJvbCcsIC8vINCf0LDQvdC10LvRjCDQvNCw0YDRiNGA0YPRgtC40LfQsNGG0LjQuFxyXG4gICAgICAgICAgICAgICAgLy8gJ3RyYWZmaWNDb250cm9sJywgLy8g0J/RgNC+0LHQutC4XHJcbiAgICAgICAgICAgICAgICAvLyAndHlwZVNlbGVjdG9yJywgLy8g0J/QtdGA0LXQutC70Y7Rh9Cw0YLQtdC70Ywg0YHQu9C+0LXQsiDQutCw0YDRgtGLXHJcbiAgICAgICAgICAgICAgICAnZnVsbHNjcmVlbkNvbnRyb2wnLCAvLyDQn9C+0LvQvdC+0Y3QutGA0LDQvdC90YvQuSDRgNC10LbQuNC8XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g0J/QvtC40YHQutC+0LLQsNGPINGB0YLRgNC+0LrQsFxyXG4gICAgICAgICAgICAgICAgbmV3IHltYXBzLmNvbnRyb2wuU2VhcmNoQ29udHJvbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDQstC40LQgLSDQv9C+0LjRgdC60L7QstCw0Y8g0YHRgtGA0L7QutCwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdsYXJnZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vINCS0LrQu9GO0YfQuNC8INCy0L7Qt9C80L7QttC90L7RgdGC0Ywg0LjRgdC60LDRgtGMINC90LUg0YLQvtC70YzQutC+INGC0L7Qv9C+0L3QuNC80YssINC90L4g0Lgg0L7RgNCz0LDQvdC40LfQsNGG0LjQuC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXI6ICd5YW5kZXgjc2VhcmNoJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIG15TWFwLmJlaGF2aW9ycy5kaXNhYmxlKCdzY3JvbGxab29tJyk7XHJcbiAgICAgICAgLy8g0J/QvtGB0LvQtSDRgtC+0LPQviDQutCw0Log0LzQtdGC0LrQsCDQsdGL0LvQsCDRgdC+0LfQtNCw0L3QsCwg0LTQvtCx0LDQstC70Y/QtdC8INC10ZEg0L3QsCDQutCw0YDRgtGDLlxyXG4gICAgICAgIC8vIG15TWFwLmdlb09iamVjdHMuYWRkKG15UGxhY2VtYXJrKTtcclxuICAgICAgICB2YXIgbXlQbGFjZW1hcmsgPSBuZXcgeW1hcHMuUGxhY2VtYXJrKFs1NS43NTU5NiwgMzcuNjU4MjFdLCBudWxsLHtcclxuICAgICAgICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxyXG4gICAgICAgICAgICBpY29uSW1hZ2VIcmVmOiBcIi4uL2Fzc2V0cy9pbWFnZXMvbG9nb00uc3ZnXCIsXHJcbiAgICAgICAgICAgIGljb25JbWFnZVNpemU6IFs0NCwgNTRdLFxyXG4gICAgICAgICAgICAvLyBpY29uSW1hZ2VPZmZzZXQ6IFstMTUsIC00NF0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlQbGFjZW1hcmspO1xyXG4gICAgICAgIHZhciBteVBsYWNlbWFyayA9IG5ldyB5bWFwcy5QbGFjZW1hcmsoWzU1Ljc1NTEzLCAzNy42NTc3OV0sIG51bGwse1xyXG4gICAgICAgICAgICBpY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXHJcbiAgICAgICAgICAgIGljb25JbWFnZUhyZWY6IFwiLi4vYXNzZXRzL2ltYWdlcy9sb2dvTUEuc3ZnXCIsXHJcbiAgICAgICAgICAgIGljb25JbWFnZVNpemU6IFszNCwgNDhdLFxyXG4gICAgICAgICAgICAvLyBpY29uSW1hZ2VPZmZzZXQ6IFstMTUsIC00NF0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbXlNYXAuZ2VvT2JqZWN0cy5hZGQobXlQbGFjZW1hcmspO1xyXG4gICAgfVxyXG59KTsiXX0=
